A csharp indexing program uses a producer thread to search for files matching a certain path and extension and then sends each resut to a pipeline that indexes the file. Initially an Index and InverseIndex ConcurrentDictionary are created by deserializing their respective files. A producer thread then finds the right files and add them to a BlockingCollection called filesQueue.  A number of consumer pipeline threads based on the number of processors read from the filesQueue using GetConsumingEnumerable. As the file goes through the pipeline it is tokenized, has punctuation removed and stemmed. How could this program be spread out over different classes? Can you give me an example file structure including models?